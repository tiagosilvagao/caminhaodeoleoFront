!function(e){angular.module("custom.controllers",[]),app.controller("HomeController",["$scope","$http","$rootScope","$state","$translate","Notification","$ionicModal",function(e,o,t,r,n,c,l){t.http=o,app.registerEventsCronapi(e,n,l),e.Notification=c;for(var a in app.userEvents)e[a]=app.userEvents[a].bind(e);e.message={};try{var i=$controller("AfterHomeController",{$scope:e});app.copyContext(i,this,"AfterHomeController")}catch(e){}try{e.blockly.events.afterHomeRender&&e.blockly.events.afterHomeRender()}catch(e){}}]),app.controller("chatController",["$scope","$state","$ionicPopup","$ionicScrollDelegate","$timeout","$interval","$ionicModal","$translate","$rootScope","$http","Notification",function(e,o,t,r,n,c,l,a,i,s,p){app.registerEventsCronapi(e,a),i.http=s,e.Notification=p;for(var u in app.userEvents)e[u]=app.userEvents[u].bind(e);var f,m,S,d=(JSON.parse(sessionStorage._u).user.username,r.$getByHandle("userMessageScroll"));e.enter=function(){n(function(){f=document.body.querySelector(".homeView .bar-footer"),m=document.body.querySelector(".homeView .scroll-content"),S=angular.element(f.querySelector("textarea"))},0)},e.isEnter=function(e){13==e.keyCode&&n(function(){e.stopPropagation(),$("#sendButton").trigger("click")},0)},e.refreshScroll=function(o,t){n(function(){o=o||e.scrollDown,d.resize(),o&&d.scrollBottom(!0),e.checkScroll()},t||1e3)},e.scrollDown=!0,e.checkScroll=function(){return n(function(){var o=d.getScrollPosition().top,t=d.getScrollView().__maxScrollTop;e.scrollDown=o>=t,e.$apply()},0),!0}}])}(app);